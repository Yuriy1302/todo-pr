(this["webpackJsonptodo-pr"]=this["webpackJsonptodo-pr"]||[]).push([[0],{14:function(e,t,a){e.exports=a(32)},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),s=a(6),c=a(5),l=a(1),u=a(2),m=a(4),d=a(3),f=a(12),p=a.n(f),v=function(e){var t=e.onSubmitTask,a=e.onChangeValue,n=e.valueTask;return r.a.createElement("form",{onSubmit:t},r.a.createElement("input",{className:"new-todo",onChange:a,value:n,placeholder:"What needs to be done?",required:!0}))},h=a(13),b=[["all","All"],["active","Active"],["finished","Completed"]],k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onFilterSelection=function(t){t.preventDefault(),(0,e.props.onFilterNameChange)(t.target.name)},e.renderFilterButtons=function(t,a){var n=Object(h.a)(t,2),i=n[0],o=n[1],s=i===a?"selected":"";return r.a.createElement("li",{key:i},r.a.createElement("button",{type:"button",className:s,name:i,"data-test":"task-filter-".concat(i),onClick:e.onFilterSelection},o))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.filterState;return r.a.createElement("ul",{className:"filters"},b.map((function(a){return e.renderFilterButtons(a,t)})))}}]),a}(r.a.Component),S=function(e){var t=e.countItems,a=e.filterState,n=e.onFilterNameChange,i=e.onClearCompleted;return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"todo-count"},t," items left"),r.a.createElement(k,{filterState:a,onFilterNameChange:n}),r.a.createElement("button",{type:"button",className:"clear-completed",onClick:i},"Clear completed"))},T=a(34),C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).transformMsToTime=function(e){var t=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60),n=Math.floor(e/36e5%24);return t=t<10?"0".concat(t):t,a=a<10?"0".concat(a):a,e>=36e5?(n=n<10?"0".concat(n):n,"".concat(n,":").concat(a,":").concat(t)):"".concat(a,":").concat(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.timeResult,a=e.startTimer,n=e.stopTimer;return r.a.createElement("span",{className:"description"},r.a.createElement("button",{type:"button",className:"icon icon-play",onClick:a,"aria-label":"Start timer"}),r.a.createElement("button",{type:"button",className:"icon icon-pause",onClick:n,"aria-label":"Stop timer"}),this.transformMsToTime(t))}}]),a}(r.a.Component),E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).tick=function(){n.setState((function(e){var t=e.timeStart;return{timeResult:e.timeTemp+(Number(Date.now())-t)}}));var e=n.props,t=e.updateTimer,a=e.task,r=n.state.timeResult;t(a.id,r)},n.startTimer=function(){var e=n.state.timeResult;clearTimeout(n.intervalID),n.setState({timeTemp:e,timeStart:Number(Date.now())});!function e(){n.intervalID=setTimeout((function(){n.tick(),e()}),1e3)}()},n.stopTimer=function(){var e=n.state.timeResult;clearTimeout(n.intervalID),n.setState({timeTemp:e})},n.onChange=function(e){e.preventDefault(),n.setState({editValue:e.target.value})},n.onSaveTask=function(e){e.preventDefault();var t=e.currentTarget.value,a=e.currentTarget.name;(0,n.props.onSaveEditing)(a,t),n.setState((function(e){return{editMode:!e.editMode}}))},n.onTaskSubmit=function(e,t){return function(a){a.preventDefault(),(0,n.props.onSaveEditing)(e,t),n.setState((function(e){return{editMode:!e.editMode}}))}},n.onEditeMode=function(){n.setState((function(e){return{editMode:!e.editMode}}))},n.renderEditInput=function(e,t){return r.a.createElement("form",{onSubmit:n.onTaskSubmit(e.id,t)},r.a.createElement("input",{type:"text",className:"edit",name:e.id,value:t,onChange:n.onChange,onBlur:n.onSaveTask}))},n.state={editMode:!1,editValue:"".concat(e.task.text),timeStart:0,timeTemp:0,timeResult:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.task;this.setState({timeResult:e.timer})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.intervalID)}},{key:"render",value:function(){var e=this.props,t=e.task,a=e.onCompleted,n=e.onDeleted,i=this.state,o=i.editMode,s=i.editValue,c=i.timeResult;t.isCompleted&&clearTimeout(this.intervalID);var l="completed";return"active"===t.state&&(l=""),o&&(l="editing"),r.a.createElement("li",{className:l},r.a.createElement("div",{className:"view"},r.a.createElement("input",{className:"toggle",type:"checkbox",name:t.id,checked:t.isCompleted,onChange:a}),r.a.createElement("label",null,r.a.createElement("span",{className:"title"},t.text),r.a.createElement(C,{timeResult:c,startTimer:this.startTimer,stopTimer:this.stopTimer}),r.a.createElement("span",{className:"description"},"created\xa0",Object(T.a)(t.created,{includeSeconds:!0}),"\xa0ago")),r.a.createElement("button",{type:"button",className:"icon icon-edit",name:t.id,onClick:this.onEditeMode,"aria-label":"Edite task"}),r.a.createElement("button",{type:"button",className:"icon icon-destroy",onClick:n,"aria-label":"Delete task"})),o&&this.renderEditInput(t,s))}}]),a}(r.a.Component),g=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).filteredTasks=function(e,t){return"all"===t?e:e.filter((function(e){return e.state===t}))},e.renderTask=function(t){var a=e.props,n=a.onDeleted,i=a.onCompleted,o=a.onSaveEditing,s=a.updateTimer;return r.a.createElement(E,{onDeleted:n(t.id),onCompleted:i,task:t,key:t.id,onSaveEditing:o,updateTimer:s})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tasksList,a=e.filterState,n=this.filteredTasks(t,a);return r.a.createElement("ul",{className:"todo-list"},n.length>0&&n.map(this.renderTask))}}]),a}(r.a.Component);g.defaultProps={filterState:"all"};var j=g,O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChangeValue=function(e){e.preventDefault(),n.setState({valueTask:e.target.value})},n.onSubmitTask=function(e){e.preventDefault();var t=n.state.valueTask,a={id:p()(),text:t,state:"active",isCompleted:!1,created:Date.now(),timer:0};n.setState((function(e){var t=e.tasksList;return{tasksList:[a].concat(Object(c.a)(t)),valueTask:""}}))},n.onCompleted=function(e){var t=e.target.name;n.setState((function(e){var a=e.tasksList,n=a.findIndex((function(e){return e.id===t})),r=a[n],i=Object(s.a)(Object(s.a)({},r),{},{state:"active"===r.state?"finished":"active",isCompleted:!r.isCompleted});return{tasksList:[].concat(Object(c.a)(a.slice(0,n)),[i],Object(c.a)(a.slice(n+1)))}}))},n.onDeleted=function(e){return function(t){t.preventDefault(),n.setState((function(t){return{tasksList:t.tasksList.filter((function(t){return t.id!==e}))}}))}},n.onClearCompleted=function(){n.setState((function(e){return{tasksList:e.tasksList.filter((function(e){return"active"===e.state}))}}))},n.onFilterNameChange=function(e){n.setState({filterState:e})},n.onSaveEditing=function(e,t){n.setState((function(a){var n=a.tasksList,r=n.findIndex((function(t){return t.id===e})),i=n[r],o=Object(s.a)(Object(s.a)({},i),{},{text:t});return{tasksList:[].concat(Object(c.a)(n.slice(0,r)),[o],Object(c.a)(n.slice(r+1)))}}))},n.updateTimer=function(e,t){n.setState((function(a){var n=a.tasksList,r=n.findIndex((function(t){return t.id===e})),i=n[r],o=Object(s.a)(Object(s.a)({},i),{},{timer:t});return{tasksList:[].concat(Object(c.a)(n.slice(0,r)),[o],Object(c.a)(n.slice(r+1)))}}))},n.state={valueTask:"",tasksList:[],filterState:"all"},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.tasksList,a=e.valueTask,n=e.filterState,i=t.filter((function(e){return"active"===e.state})).length;return r.a.createElement("section",{className:"todoapp"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todos"),r.a.createElement(v,{onChangeValue:this.onChangeValue,onSubmitTask:this.onSubmitTask,valueTask:a})),r.a.createElement("section",{className:"main"},r.a.createElement(j,{tasksList:t,onDeleted:this.onDeleted,onCompleted:this.onCompleted,filterState:n,onSaveEditing:this.onSaveEditing,updateTimer:this.updateTimer}),r.a.createElement(S,{countItems:i,onClearCompleted:this.onClearCompleted,filterState:n,onFilterNameChange:this.onFilterNameChange})))}}]),a}(r.a.Component);a(31);o.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f1ea203c.chunk.js.map